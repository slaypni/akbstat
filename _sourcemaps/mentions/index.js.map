{"version":3,"sources":["mentions/index.coffee"],"names":[],"mappings":"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","file":"mentions/index.js","sourceRoot":"/source/","sourcesContent":["getGroup = (member) ->\n  return member['groups'][0] if member['teams'][0] == 'ç ”'\n  {\n    A: 'AKB48'\n    K: 'AKB48'\n    B: 'AKB48'\n    4: 'AKB48'\n    8: 'AKB48'\n    S: 'SKE48'\n    KII: 'SKE48'\n    E: 'SKE48'\n    N: 'NMB48'\n    M: 'NMB48'\n    BII: 'NMB48'\n    H: 'HKT48'\n    KIV: 'HKT48'\n    SII: 'SNH48'\n  }[member['teams'][0]]\n\n\nR_NODE = 20\nR_NODE_FOCUSED = if not isMobile.any then 30 else R_NODE\n  \n\n$ ->\n  width = height = _.max [700, _.min [$(window).width(), $(window).height() - $('#vis').offset().top]]\n  container_width = _.max [width, $(window).width()]\n  container_height = _.max [height, $(window).height() - $('#vis').offset().top]\n  left_offset = (container_width - width) / 2\n  top_offset = (container_height - height) / 2\n  \n  svg = d3.select '#vis>svg'\n    .attr\n      'width': container_width\n      'height': container_height\n  defs = svg.select 'defs'\n  bg = svg.append('rect')\n    .attr\n      'class': 'background'\n      'width': container_width\n      'height': container_height\n  g_bg_nodes = svg.append('g')\n    .attr 'id', 'bg-nodes'\n  g_general_nodes = svg.append('g')\n    .attr 'id', 'general-nodes'\n  mg = svg.append('rect')\n    .attr\n      'class': 'middleground'\n      'width': container_width\n      'height': container_height\n  g_focused_nodes = svg.append('g')\n    .attr 'id', 'focused-nodes'\n  g_nodes = svg.selectAll '#general-nodes, #focused-nodes'\n  g_overlay = svg.append('g')\n    .attr 'id', 'overlay'\n\n  do ->\n    $('body').css\n      'width': container_width\n  \n    $('#header .container').css\n      'width': $(window).width()\n  \n    $('#pop').css\n      'width': $(window).width()\n      'height': $(window).height()\n  \n    $('#pop-bg').css\n      'width': container_width\n      'height': container_height + $('#vis').offset().top\n\n  $(window).scroll ->\n    left_srcoll_offset = Math.min $(@).scrollLeft(), container_width - $(@).width()\n    $('#header .container').css 'left', left_srcoll_offset\n    $('#pop').css\n      'top': Math.min $(@).scrollTop(), container_height - ($(@).height() - $('#vis').offset().top)\n      'left': left_srcoll_offset\n    $('#description').css 'right', -1 * left_srcoll_offset\n\n  if isMobile.any\n    #$(window).scrollTop Math.max 0, (container_height + $('#vis').offset().top - $(window).height()) / 2\n    $(window).scrollLeft Math.max 0, (container_width - $(window).width()) / 2\n\n  members = []\n\n  range_margin = R_NODE * 3\n\n  force_general = d3.layout.force()\n    .gravity 0.0\n    .charge 0.0\n    .friction 0.0\n    .nodes []\n    .size [container_width, container_height]\n    \n  d3.json 'data/members.json', (error, _members) ->\n    console.warn error if error\n    $('#now-loading').hide()\n    \n    scale_x = d3.scale.linear().range([(container_width - width) / 2 + range_margin, (container_width - width) / 2 + width - range_margin]).domain(d3.extent (_.values _members).map (member) -> member.x[0])\n    scale_y = d3.scale.linear().range([range_margin, height - range_margin]).domain(d3.extent (_.values _members).map (member) -> member.x[1])\n    \n    for memberId, member of _members\n      members.push _.merge member, {'member_id': memberId, x: (scale_x member.x[0]), y: (scale_y member.x[1]), x_original: member.x[0], y_original: member.x[1], r: R_NODE, group: getGroup member, fixed: false}\n\n    updateNodePosition = (member) ->\n      defs.select \"#node-thumbnail-#{member['member_id']} circle.node-thumbnail\"\n        .attr\n          'cx': (member) -> member.x\n          'cy': (member) -> member.y\n      defs.select \"path.node-name-text#node-name-text-#{member['member_id']}\"\n        .attr\n          'd': (member) -> \"m#{member.x - member.r * 1.1},#{member.y} a#{member.r * 1.1},#{member.r * 1.1} 0 0 1 #{member.r * 2.2},0\"\n      g_nodes.select \"g.node#node-#{member['member_id']} circle.frame\"\n        .attr\n          'cx': (member) -> member.x\n          'cy': (member) -> member.y\n      g_nodes.select \"g.node#node-#{member['member_id']} image\"\n        .attr\n          'x': (member) -> member.x - member.r\n          'y': (member) -> member.y - member.r\n      g_nodes.select \"g.node#node-#{member['member_id']} circle.overlay\"\n        .attr\n          'cx': (member) -> member.x\n          'cy': (member) -> member.y\n\n\n    updateNodePositions = ->\n      node_circles = svg.selectAll \"\"\"\n        defs circle.node-thumbnail,\n        g.node circle.frame,\n        g.node circle.overlay\n        #{if not _.some members, 'focused' then ', g.bg-node circle' else ''}\n        \"\"\"\n    \n      defs.selectAll 'path.node-name-text'\n        .attr\n          'd': (member) -> \"m#{member.x - member.r * 1.1},#{member.y} a#{member.r * 1.1},#{member.r * 1.1} 0 0 1 #{member.r * 2.2},0\"\n      g_nodes.selectAll 'g.node image'\n        .attr\n          'x': (member) -> member.x - member.r\n          'y': (member) -> member.y - member.r\n      node_circles\n        .attr\n          'cx': (member) -> member.x\n          'cy': (member) -> member.y\n          \n    updateNodes = (update_positions = true) ->\n      defs.selectAll 'circle.node-thumbnail'\n        .attr\n          'r': (member) -> member.r\n          \n      g = g_nodes.selectAll 'g.node'\n        .data members, (member) -> member['member_id']\n        .classed 'AKB48', (member) -> 'AKB48' == member.group\n        .classed 'SKE48', (member) -> 'SKE48' == member.group\n        .classed 'NMB48', (member) -> 'NMB48' == member.group\n        .classed 'HKT48', (member) -> 'HKT48' == member.group\n        .classed 'SNH48', (member) -> 'SNH48' == member.group\n        .classed 'selected', (member) -> member.selected\n      g.select 'circle.frame'\n        .attr\n          'r': (member) -> member.r\n      g.select 'image'\n        .attr\n          'width': (member) -> member.r * 2\n          'height': (member) -> member.r * 2\n          'xlink:href': (member) -> \"images/node_thumbnail/#{member['thumbnail']}\"\n          'clip-path': (member) -> \"url(#node-thumbnail-#{member['member_id']})\"\n      g.select 'circle.overlay'\n        .attr\n          'r': (member) -> member.r\n       \n      g = g_overlay.selectAll 'g.node-overlay'\n        .data members, (member) -> member['member_id']\n        .classed 'AKB48', (member) -> 'AKB48' == member.group\n        .classed 'SKE48', (member) -> 'SKE48' == member.group\n        .classed 'NMB48', (member) -> 'NMB48' == member.group\n        .classed 'HKT48', (member) -> 'HKT48' == member.group\n        .classed 'SNH48', (member) -> 'SNH48' == member.group\n      g.select 'text.name:not(.frame)'\n        .attr 'uuu', (member) -> \"#{member['member_id']}\"\n        .select '.textpath'\n          .attr\n            'xlink:href': (member) -> \"#node-name-text-#{member['member_id']}\"\n          .text (member) -> member['name']\n      g.select 'text.name.frame'\n        .attr 'uuu', (member) -> \"#{member['member_id']}\"\n        .select '.textpath'\n          .attr\n            'xlink:href': (member) -> \"#node-name-text-#{member['member_id']}\"\n          .text (member) -> member['name']\n\n      g_bg_nodes.selectAll 'g.bg-node'\n        .data members, (member) -> member['member_id']\n        .classed 'AKB48', (member) -> 'AKB48' == member.group\n        .classed 'SKE48', (member) -> 'SKE48' == member.group\n        .classed 'NMB48', (member) -> 'NMB48' == member.group\n        .classed 'HKT48', (member) -> 'HKT48' == member.group\n        .classed 'SNH48', (member) -> 'SNH48' == member.group\n        .select 'circle'\n          .attr\n            'r': (member) -> member.r * 4\n\n      updateNodePositions() if update_positions\n\n    # initNodes\n    do ->\n      defs.selectAll 'clipPath.node-thumbnail'\n        .data members, (member) -> member['member_id']\n        .enter().append 'clipPath'\n          .attr\n            'id': (member) -> \"node-thumbnail-#{member['member_id']}\"\n            'class': 'node-thumbnail'\n          .append 'circle'\n            .attr\n              'class': 'node-thumbnail'\n      defs.selectAll 'path.node-name-text'\n        .data members, (member) -> member['member_id']\n        .enter().append 'path'\n          .attr\n            'id': (member) -> \"node-name-text-#{member['member_id']}\"\n            'class': 'node-name-text'\n\n      g_bg_nodes.selectAll 'g.bg-node'\n        .data members, (member) -> member['member_id']\n        .enter().append 'g'\n          .attr\n            'id': (member) -> \"bg-node-#{member['member_id']}\"\n            'class': 'bg-node'\n          .append 'circle'\n       \n      node = g_general_nodes.selectAll 'g.node'\n        .data members, (member) -> member['member_id']\n      g = node.enter().append 'g'\n        .attr\n          'id': (member) -> \"node-#{member['member_id']}\"\n          'class': 'node'\n        .each (member) ->\n          img = new Image()\n          img.onload = -> d3.select(\"#node-#{member['member_id']}\").classed 'img-loaded', true\n          img.src = \"images/node_thumbnail/#{member['thumbnail']}\"\n      g.append 'circle'\n        .attr\n          'class': 'frame'\n      g.append 'image'\n      g.append 'circle'\n        .attr\n          'class': 'overlay'\n        .on 'click', (member) ->\n          if member.selected\n            enterGeneralMode()\n          else if member.focused\n            showActivities? member\n          else\n            enterFocusMode member\n        .on 'mouseenter', (member) ->\n          d3.selectAll \"g#node-overlay-#{member['member_id']} text.name\"\n            .style 'display': 'block'\n        .on 'mouseleave', (member) ->\n          d3.selectAll \"g#node-overlay-#{member['member_id']} text.name\"\n            .style 'display': null\n      \n      node_overlay = g_overlay.selectAll 'g.node-overlay'\n        .data members, (member) -> member['member_id']\n      g = node_overlay.enter().append 'g'\n        .attr\n          'id': (member) -> \"node-overlay-#{member['member_id']}\"\n          'class': 'node-overlay'\n      g.append 'text'\n        .attr\n          'class': 'name frame'\n        .append 'textPath'\n          .attr\n            'class': 'textpath'\n            'startOffset': '50%'\n      g.append 'text'\n        .attr\n          'class': 'name'\n        .append 'textPath'\n          .attr\n            'class': 'textpath'\n            'startOffset': '50%'\n\n      updateNodes()\n\n          \n    collide = (_members = members, space = 2) ->\n      q = d3.geom.quadtree _members\n      for member in _members\n        mx1 = member.x - member.r\n        mx2 = member.x + member.r\n        my1 = member.y - member.r\n        my2 = member.y + member.r\n        if mx1 < left_offset\n          member.x = left_offset + member.r\n          mx1 = left_offset\n          mx2 = left_offset + member.r * 2\n        if mx2 > left_offset + width\n          member.x = left_offset + width - member.r\n          mx1 = left_offset + width - member.r * 2\n          mx2 = left_offset + width\n        if my1 < top_offset\n          member.y = top_offset + member.r\n          my1 = top_offset\n          my2 = top_offset + member.r * 2\n        if my2 > top_offset + height\n          member.y = top_offset + height - member.r\n          my1 = top_offset + height - member.r * 2\n          my2 = top_offset + height\n        q.visit (node, x1, y1, x2, y2) ->\n          if node.point? and node.point != member\n            x = member.x - node.point.x\n            y = member.y - node.point.y\n            d = Math.sqrt (x * x + y * y)\n            r = member.r + node.point.r + space\n            if d < r\n              d = (d - r) / d * 0.5\n              x *= d\n              y *= d\n              member.x -= x\n              member.y -= y\n              node.point.x += x\n              node.point.y += y\n          return x1 > mx2 or x2 < mx1 or y1 > my2 or y2 < my1\n\n    tick = 0\n    skip = if isMobile.any then 40 else 2\n    force_general.start().alpha 0.0075\n    force_general.on 'tick', ->\n      collide()\n      updateNodePositions() if ++tick % skip == 0\n\n    force_focus = d3.layout.force()\n      .gravity 0.0\n      .friction 0.5\n      .size [container_width, container_height]\n\n    enterGeneralMode = ->\n      force_focus.stop()\n      showActivities = null\n      mg.classed 'focus-mode', false\n      $(\"g#focused-nodes g.node\").detach().appendTo('g#general-nodes')\n      for member in members\n        member.focused = member.selected = member.fixed = false\n        member.r = R_NODE\n        delete member['px']\n        delete member['py']\n      updateNodes false\n      selector = ((members.filter (member) -> member['general_mode_positions']?).map (member) -> \"g.node#node-#{member['member_id']}\").join ','\n      g_nodes.selectAll selector\n        .transition().duration 200\n        .tween 'position', (member) ->\n          [src_x, src_y] = [member.x, member.y]\n          [dest_x, dest_y] = [member['general_mode_positions'].x, member['general_mode_positions'].y]\n          (t) ->\n            member.x = (1 - t) * src_x + t * dest_x\n            member.y = (1 - t) * src_y + t * dest_y\n            updateNodePosition member\n        .each 'end', (member) ->\n          delete member['general_mode_positions'] if not member.focused\n          force_general.start().alpha 0.0075 if not _.some members, 'general_mode_positions'\n      updateUrl()\n\n    showActivities = null\n\n    enterFocusMode = (target_member, update_url = true, callback = null) ->\n      for member in members\n        member.focused = member.selected = member.fixed = false\n        \n      d3.json \"data/references/#{target_member['member_id']}.json\", (error, ref) ->\n        force_general.stop()\n        $(\"g#focused-nodes g.node\").detach().appendTo('g#general-nodes')\n        \n        ref_member_ids = _.keys ref['ref_activity_ids']\n        for member in members\n          member.focused = (member['member_id'] in ref_member_ids) or member['member_id'] == target_member['member_id']\n          member.selected = member['member_id'] == target_member['member_id']\n          member.r = if member['member_id'] == target_member['member_id'] then R_NODE_FOCUSED else R_NODE\n\n        focused_members = members.filter (member) -> member.focused and not member.selected\n        g_nodes.select \"g.node#node-#{target_member['member_id']} circle.overlay\"\n          .transition().duration(350)\n            .attrTween 'r', (member) -> (t) -> member.r * (1 - 0.04 * Math.sin (t * 2 *Math.PI))\n        for member in focused_members\n          $(\"g#node-#{member['member_id']}\").detach().appendTo('g#focused-nodes')\n        $(\"g#node-#{target_member['member_id']}\").detach().appendTo('g#focused-nodes')\n\n        mg.classed 'focus-mode', true\n        updateNodes()\n\n        for member in focused_members.concat [target_member]\n          member['general_mode_positions'] ?= {x: member['x'], y: member['y']}\n\n        target_member.fixed = true\n        if not isMobile.any\n          force_focus\n            .nodes focused_members.concat [target_member]\n            .links ({source: target_member, target: member} for member in focused_members)\n            .linkStrength (link) -> _.min [1, (Math.pow ref.scores[link.target['member_id']], 1) * 5]\n            .linkDistance 75\n            .on 'start', ->\n              ticks_per_render = 10\n              ticks_incremented = 1\n              j = 0\n              render = ->\n                for i in [0...ticks_per_render+j]\n                  force_focus.tick()\n                  if i % 2 == 0\n                    collide (focused_members.concat [target_member]), 4\n                j += ticks_incremented\n   \n                target_member = _.merge target_member, target_member['general_mode_positions']\n                \n                updateNodePositions()\n                if force_focus.alpha() > 0\n                  requestAnimationFrame render\n              requestAnimationFrame render\n            .start().alpha 0.015\n\n        showActivities = (member, update_url = true) ->\n          mg.classed 'focus-mode', false\n          \n          $('#pop, #pop-bg')\n            .addClass 'active'\n            .scrollTop 0\n          \n          $('#pop-cards').empty()\n\n          $('#pop-cards').append $ \"\"\"\n              <div class=\"card head\">\n                <div class=\"left\">\n                  <div class=\"thumbnail\">\n                    <a href=\"https://plus.google.com/#{target_member['member_id']}\" target=\"_blank\">\n                      <img src=\"images/node_thumbnail/#{target_member['thumbnail']}\">\n                    </a>\n                  </div>\n                  <span class=\"head-name\">\n                    <a href=\"https://plus.google.com/#{target_member['member_id']}\" target=\"_blank\">\n                      #{target_member['name']}\n                    </a>\n                  </span>\n                </div>\n                <div class=\"right\">\n                  <div class=\"thumbnail\">\n                    <a href=\"https://plus.google.com/#{member['member_id']}\" target=\"_blank\">\n                      <img src=\"images/node_thumbnail/#{member['thumbnail']}\">\n                    </a>\n                  </div>\n                  <span class=\"head-name\">\n                    <a href=\"https://plus.google.com/#{member['member_id']}\" target=\"_blank\">\n                      #{member['name']}\n                    </a>\n                  </span>\n                </div>\n              </div>\n              \"\"\"\n          \n          for activity_id in ref['ref_activity_ids'][member['member_id']]\n            activity = ref['activities'][activity_id]\n            date = new Date activity['published']\n            $('#pop-cards').append $ \"\"\"\n              <div class=\"card\">\n                <a class=\"external-link\" href=\"#{activity['url']}\" target=\"_blank\">\n                  <i class=\"fa fa-external-link\"></i>\n                </a>\n                <div class=\"header\">\n                  <div class=\"thumbnail\">\n                    <a href=\"https://plus.google.com/#{target_member['member_id']}\" target=\"_blank\">\n                      <img src=\"images/node_thumbnail/#{target_member['thumbnail']}\">\n                    </a>\n                  </div>\n                  <div class=\"inner-header\">\n                    <div class=\"name\">\n                        <a href=\"https://plus.google.com/#{target_member['member_id']}\" target=\"_blank\">\n                          #{target_member['name']}\n                        </a>\n                      </div>\n                    <div class=\"time\">#{date.getUTCFullYear()}/#{date.getUTCMonth() + 1}/#{date.getUTCDate()}</div>\n                  </div>\n                </div>\n                <div class=\"message\">#{activity['content'].replace /\\n/g, '<br>'}</div>\n              </div>\n              \"\"\"\n\n          $('.card').on 'click', (e) ->\n            e.stopPropagation()\n            \n          $('#pop').one 'click', ->\n            $('#pop')\n              .addClass 'closing'\n              .one 'animationend webkitAnimationEnd MSAnimationEnd oanimationend', (e) ->\n                mg.classed 'focus-mode', true\n                $('#pop, #pop-bg')\n                  .removeClass 'active'\n                  .removeClass 'closing'\n                updateUrl target_member\n\n          if isMobile.any\n            $('#pop').css\n              'height': $(window).height()\n            $('#pop-bg').css\n              'height': container_height + $('#vis').offset().top\n\n          updateUrl target_member, member if update_url\n\n        updateUrl target_member if update_url\n\n        callback?()\n            \n      mg.on 'click', enterGeneralMode\n\n\n    updateUrl = (target_member = null, referred_member = null) ->\n      window.history.replaceState {}, '', (if target_member? then \"#/#{target_member['member_id']}\" + (if referred_member? then \"/#{referred_member['member_id']}\" else '') else ' ')\n      \n\n    getTargetMemberIdsFromUrl = ->\n      m = window.location.hash.match /#\\/(\\w+)(\\/(\\w+))?\\/?/\n      return {'target_member_id': m?[1], 'referred_member_id': m?[3]}\n\n    # handle initial hash routing\n    do ->\n      {'target_member_id': default_target_member_id, 'referred_member_id': default_referred_member_id} = getTargetMemberIdsFromUrl()\n      return if not default_target_member_id?\n      target_member = (members.filter (member) -> member['member_id'] == default_target_member_id)[0]\n      if not target_member?\n        updateUrl()\n        return\n      enterFocusMode target_member, false, ->\n        referred_member = (members.filter (member) -> member['member_id'] == default_referred_member_id)[0]\n        showActivities referred_member, false if referred_member?.focused and not referred_member?.selected\n        updateUrl target_member, referred_member\n"]}